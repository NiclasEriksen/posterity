{% extends "base.html" %}
{% block title %}Pending videos{% endblock %}
{% block content %}
<section class="uk-section">
    <div class="uk-grid">
        <div class="uk-width-1-1 uk-text-center"><h2>Pending videos</h2></div>
    </div>
    <table class="uk-table uk-table-small uk-table-striped">
        <thead>
            <tr>
                <td class="uk-table-expand">Video</td>
                <td class="uk-table-shrink">Actions</td>
            </tr>
        </thead>
        <tbody>
            {% for v in pending_videos %}
            <tr>
                <td>
                    <div style="display: table-cell;">
                        <a href="/{{ v.video_id }}">{{ v.title }}</a><br>
                        <a href="{{ v.url }}" target="_blank">
                            {% if v.source_site_name|length %}
                            <span class="uk-icon-link" uk-icon="icon: {{ v.source_site_name }}; ratio: 0.75"></span>
                            {% endif %}
                            {{ v.url[:128] }}
                        </a>
                    </div>
                </td>
                <td>
                    <span uk-tooltip="title: Start archiving process">
                    <a
                        class="uk-icon-button uk-text-success"
                        uk-icon="icon: cloud-download; ratio: 1.3"
                        onclick="startDownload('{{ v.video_id }}', remove_btn=true, btn_id='pending-{{v.video_id}}', redir=false)"
                        id="pending-{{v.video_id}}"
                    >
                    </a>
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
<script src="{{ url_for('serve.static', filename='js/klippekort.js') }}"></script>
{% endblock %}